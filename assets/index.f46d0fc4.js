import{c as $,j as t,g as de,a as ue,s as z,P as pe,r as k,u as he,_ as q,b as P,d as fe,e as R,M as ke,f as Fe,h as H,i as ee,k as De,S as Se,A as Be,l as te,m as Me,R as f,n as me,o as Ae,p as w,F as Q,L as Ie,q as F,E as ne,I as U,C as Pe,t as se,v as Le,w as Y,B as Z,x as _e,y as re,z as Te,D as $e,G as V,H as Oe,T as K,J as _,K as Re,N as ze,O as He,Q as Ue,U as We,V as je,W as J,X as G,Y as Ve,Z as W,$ as Ke,a0 as qe,a1 as Ge,a2 as Qe,a3 as Ye,a4 as ae,a5 as Ze,a6 as Je}from"./index.17df6a7d.js";import{L as Xe,f as et,a as tt,d as nt,r as st,b as rt,e as at,n as ot,h as it}from"./color.fa09b8c6.js";var lt=$(t("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined"),ct=$(t("path",{d:"m19 18 2 1V3c0-1.1-.9-2-2-2H8.99C7.89 1 7 1.9 7 3h10c1.1 0 2 .9 2 2v13zM15 5H5c-1.1 0-2 .9-2 2v16l7-3 7 3V7c0-1.1-.9-2-2-2z"}),"Bookmarks"),dt=$(t("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined"),ut=$(t("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined"),pt=$(t("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHorizOutlined"),ge=$(t("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");function ht(n){return de("MuiCard",n)}ue("MuiCard",["root"]);const ft=["className","raised"],mt=n=>{const{classes:e}=n;return fe({root:["root"]},ht,e)},gt=z(pe,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})(()=>({overflow:"hidden"})),xt=k.exports.forwardRef(function(e,s){const r=he({props:e,name:"MuiCard"}),{className:c,raised:o=!1}=r,a=q(r,ft),i=P({},r,{raised:o}),x=mt(i);return t(gt,P({className:R(x.root,c),elevation:o?8:void 0,ref:s,ownerState:i},a))});var xe=xt;function vt(n){return de("MuiDrawer",n)}ue("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const wt=["BackdropProps"],bt=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],ve=(n,e)=>{const{ownerState:s}=n;return[e.root,(s.variant==="permanent"||s.variant==="persistent")&&e.docked,e.modal]},yt=n=>{const{classes:e,anchor:s,variant:r}=n,c={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${H(s)}`,r!=="temporary"&&`paperAnchorDocked${H(s)}`]};return fe(c,vt,e)},Ct=z(ke,{name:"MuiDrawer",slot:"Root",overridesResolver:ve})(({theme:n})=>({zIndex:n.zIndex.drawer})),oe=z("div",{shouldForwardProp:Fe,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:ve})({flex:"0 0 auto"}),Et=z(pe,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:s}=n;return[e.paper,e[`paperAnchor${H(s.anchor)}`],s.variant!=="temporary"&&e[`paperAnchorDocked${H(s.anchor)}`]]}})(({theme:n,ownerState:e})=>P({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:n.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${n.palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${n.palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${n.palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${n.palette.divider}`})),we={left:"right",right:"left",top:"down",bottom:"up"};function Nt(n){return["left","right"].indexOf(n)!==-1}function kt(n,e){return n.direction==="rtl"&&Nt(e)?we[e]:e}const Ft={enter:ee.enteringScreen,exit:ee.leavingScreen},Dt=k.exports.forwardRef(function(e,s){const r=he({props:e,name:"MuiDrawer"}),{anchor:c="left",BackdropProps:o,children:a,className:i,elevation:x=16,hideBackdrop:y=!1,ModalProps:{BackdropProps:v}={},onClose:C,open:d=!1,PaperProps:D={},SlideProps:h,TransitionComponent:N=Se,transitionDuration:b=Ft,variant:l="temporary"}=r,u=q(r.ModalProps,wt),g=q(r,bt),m=De(),S=k.exports.useRef(!1);k.exports.useEffect(()=>{S.current=!0},[]);const E=kt(m,c),I=P({},r,{anchor:c,elevation:x,open:d,variant:l},g),M=yt(I),A=t(Et,P({elevation:l==="temporary"?x:0,square:!0},D,{className:R(M.paper,D.className),ownerState:I,children:a}));if(l==="permanent")return t(oe,P({className:R(M.root,M.docked,i),ownerState:I,ref:s},g,{children:A}));const L=t(N,P({in:d,direction:we[E],timeout:b,appear:S.current},h,{children:A}));return l==="persistent"?t(oe,P({className:R(M.root,M.docked,i),ownerState:I,ref:s},g,{children:L})):t(Ct,P({BackdropProps:P({},o,v,{transitionDuration:b}),className:R(M.root,M.modal,i),open:d,ownerState:I,onClose:C,hideBackdrop:y,ref:s},g,u,{children:L}))});var St=Dt,Bt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Mt=Bt,be=function(e,s){return k.exports.createElement(Be,te(te({},e),{},{ref:s,icon:Mt}))};be.displayName="LoadingOutlined";var At=k.exports.forwardRef(be);const It=n=>Me.get("/v1/resource/baidu/sug",{params:{wd:n}});function Pt(n,e=300,s=[]){const{current:r}=k.exports.useRef({fn:n,timer:void 0});return k.exports.useEffect(function(){r.fn=n},[n]),k.exports.useCallback(function(...o){r.timer&&clearTimeout(r.timer),r.timer=setTimeout(()=>{r.fn(...o)},e)},s)}const Lt=({open:n,anchorEl:e,wd:s,code:r,onSelect:c,onKeySelect:o,...a})=>{const[i,x]=f.useState([]),[y,v]=f.useState({}),[C,d]=f.useState(null),[D,h]=f.useState(!1),N=Pt(function(){b()},300),b=()=>{if(!s){x([]);return}h(!0),It(s).then(l=>{let u=l.data;x(u.sugs),v(u.engine),d(null),h(!1)})};return f.useEffect(()=>{N()},[s]),f.useEffect(()=>{var g;const l=i.length;let u=C===null?-1:C;if(l>0&&r){r==="ArrowDown"&&u++,r==="ArrowUp"&&u--,u>=l-1&&(u=0),u<0&&(u=l-1);const m=(g=i[u])==null?void 0:g.content;m&&(o(m),d(u))}},[r]),t(me,{open:n&&s.length>0,anchorEl:e,transition:!0,placement:"bottom",container:e,className:"z-10 top-auto left-auto",children:({TransitionProps:l})=>t(xe,{...l,className:"mt-1",style:{width:`${e==null?void 0:e.clientWidth}px`},children:t(Ae,{spinning:D,indicator:t(At,{spin:!0}),children:i.length?w(Q,{children:[t(Ie,{disablePadding:!0,children:i.map((u,g)=>t(Xe,{button:!0,className:F({"bg-gray-100":C===g}),onClick:()=>{d(g),c(u.content)},children:u.content},g))}),w("p",{className:"px-5 py-2 text-right",children:["\u6570\u636E\u6765\u6E90\uFF1A",y.name]})]}):t(ne,{image:ne.PRESENTED_IMAGE_SIMPLE})})})})},_t=n=>{const{width:e=300,anchorEl:s,open:r=!1,onBtnClick:c,onEngineSelect:o,engine:a}=n,[i,x]=k.exports.useState([]),[y,v]=k.exports.useState(""),[C,d]=f.useState([]),D=()=>{Le().then(h=>{var l,u;const N={...a.engine,classifyId:(u=(l=a.engine)==null?void 0:l.classify)==null?void 0:u._id};let b=h.map(g=>g.children).flat().filter(g=>{var m;return g._id!==((m=a.engine)==null?void 0:m._id)}).slice(0,a.indexCount-1);a.sortType==="count"&&(b=b.sort((g,m)=>m.count-g.count)),d([N,...b]),x(h),h.length>0&&v(h[0]._id)})};return k.exports.useEffect(()=>{var h,N,b,l;(N=(h=a==null?void 0:a.engine)==null?void 0:h.classify)!=null&&N._id&&v((l=(b=a==null?void 0:a.engine)==null?void 0:b.classify)==null?void 0:l._id),D()},[a]),console.log(i[0]),w("div",{className:"mb-1",children:[t(me,{open:r,anchorEl:s,placement:"top",children:({TransitionProps:h})=>{var N,b;return t(xe,{...h,style:{width:`${s==null?void 0:s.clientWidth}px`},className:"mb-1",children:w("div",{className:"p-2 flex gap-2 items-start",children:[t("div",{className:"max-h-20 overflow-y-auto pr-1",children:i.map(l=>t("div",{onClick:()=>{v(l._id)},className:F("px-1.5 py-0.5 cursor-pointer rounded text-sm",y===l._id?"bg-primary text-white":"bg-white"),children:l.name},l._id))}),t("div",{className:"flex gap-1 items-start justify-start flex-grow",children:(b=(N=i.filter(l=>l._id===y))==null?void 0:N[0])==null?void 0:b.children.map(l=>{var u;return t("div",{className:F("px-1.5 py-0.5 cursor-pointer rounded text-sm",((u=a==null?void 0:a.engine)==null?void 0:u._id)===l._id?"bg-primary text-white":"bg-white border"),onClick:()=>{o(l)},children:l.name})})}),t(U,{onClick:()=>{c(!1)},size:"small",children:t(Pe,{})})]})})}}),w("div",{className:"w-full text-left mb-1 flex justify-start items-center overflow-x-auto",children:[C.map((h,N)=>{var b;return t(se,{className:F("mx-1",h._id===((b=a==null?void 0:a.engine)==null?void 0:b._id)?"bg-primary text-white":"bg-gray-100"),size:"small",label:h.name,onClick:l=>o(h)},N)}),a.mode==="custom"&&t(se,{onClick:h=>{c(!r)},className:F("mx-1","bg-gray-100"),size:"small",label:t("div",{className:"text-sm flex gap-1 items-center",children:t(ge,{className:"text-base"})})})]})]})},Tt=n=>{const{inputBoxRef:e,inputRef:s,handleBtnClick:r,...c}=n,{t:o}=Y();return w("div",{ref:e,className:"flex justify-center items-center rounded-md shadow-xl overflow-hidden",children:[t("input",{className:"py-2 px-4 border-none leading-4 sm:leading-7 outline-none flex-grow rounded-tr-none rounded-br-none placeholder-gray-400 focus:placeholder-gray-200 transition-all",type:"text",ref:s,...c}),w(Z,{className:"w-24 md:w-16 sm:w-24 rounded-tl-none flex gap-2 items-center justify-center whitespace-nowrap leading-4 sm:leading-7 text-center tracking-widest rounded-bl-none bg-primary text-white",size:"large",variant:"contained",disableElevation:!0,onClick:r,children:[t(_e,{}),o("sou-suo")]})]})},$t=({onChange:n,onPressEnter:e,onBtnClick:s,onFocus:r,onBlur:c,onArrow:o,value:a,defaultValue:i,primaryText:x,...y})=>{Y();const[v,C]=f.useState(i||a||""),[d,D]=f.useState({}),[h,N]=f.useState(!1),[b,l]=f.useState(""),[u,g]=f.useState(null),[m,S]=f.useState(null),E=f.useRef(null),B=f.useRef(null),[I,M]=f.useState(!1),A=p=>{C(p.target.value),l(p.target.value),n&&n(p,p.target.value,d.engine)},L=p=>{r&&r(p)},O=p=>{c&&c(p)},T=p=>{p.code==="Enter"&&(e&&e(v,d.engine),window.open(`${d.engine.href}${v}`),re(d.engine._id)),(p.code==="ArrowDown"||p.code==="ArrowUp")&&(o&&o(p.code),p.stopPropagation(),S(p.code))},Ce=p=>{S(null)},X=()=>{s&&s(v,d.engine),window.open(`${d.engine.href}${v}`),re(d.engine._id)},Ee=()=>{Te().then(p=>{D(p)})},Ne=p=>{$e(p._id).then(j=>{D({...d,engine:p})})};return k.exports.useEffect(()=>{Ee()},[]),w("div",{className:"search-input w-11/12 md:max-w-2xl md:w-4/5",onFocus:p=>{N(!0),M(!1),g(p.currentTarget)},onBlur:p=>{p.currentTarget.contains(p.relatedTarget)||N(!1)},children:[t(_t,{anchorEl:B==null?void 0:B.current,open:I,onBtnClick:p=>{M(p)},onEngineSelect:p=>{Ne(p),M(!0)},engine:d}),t(Tt,{inputBoxRef:E,inputRef:B,type:"text",value:v,onChange:A,onFocus:L,onBlur:O,onKeyDown:T,onKeyUp:Ce,handleBtnClick:X,...y}),t(Lt,{open:h,wd:b,code:m,anchorEl:u,onKeySelect:p=>{C(p)},onSelect:p=>{var j;s&&s(p,d.engine),C(p),(j=B.current)==null||j.focus(),X()}})]})},Ot=({open:n,type:e,value:s,onClose:r,onSubmit:c})=>{const{Item:o}=V,a=V.useForm(),{handleSubmit:i,reset:x}=a,y=C=>{e==="del"&&s&&(C=s),c(C)},v=()=>{r(),x()};return f.useEffect(()=>{x(s)},[s]),t(Oe,{title:e==="add"?"\u6DFB\u52A0\u7F51\u5740":"\u7F16\u8F91\u7F51\u5740",open:n,onCancel:v,onOk:()=>{i(y,C=>{console.log(C)})()},children:w(V,{form:a,size:"small",children:[t(o,{name:"name",label:"\u540D\u79F0",rules:{required:{value:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}},children:t(K,{fullWidth:!0,variant:"outlined",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"})}),t(o,{name:"url",label:"\u7F51\u5740",rules:{required:{value:!0,message:"\u8BF7\u8F93\u5165\u7F51\u5740"},pattern:{value:/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/,message:"\u7F51\u5740\u683C\u5F0F\u4E0D\u6B63\u786E"}},children:t(K,{fullWidth:!0,variant:"outlined",placeholder:"\u8BF7\u8F93\u5165\u7F51\u5740"})}),t(o,{name:"iconUrl",label:"\u56FE\u6807",rules:{pattern:{value:/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/,message:"\u56FE\u6807\u7F51\u5740\u683C\u5F0F\u4E0D\u6B63\u786E"}},children:t(K,{fullWidth:!0,variant:"outlined",placeholder:"\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740"})})]})})},ie=({type:n="view",item:e,onClick:s,onAdd:r,onEdit:c,onRemove:o})=>{const[a,i]=f.useState(null),x=d=>{d.stopPropagation(),i(d.currentTarget)},y=d=>{d.stopPropagation(),i(null)},v=()=>{i(null),c&&e&&c(e)},C=()=>{i(null),o&&e&&o(e._id)};return w(Q,{children:[w("div",{className:F("cursor-pointer bg-transparent rounded shadow-none relative w-28 h-20 transition-all hover:bg-rgba-gray-3",_`
            &:hover {
              .handle-container {
                opacity: 1 !important;
              }
            }
          `),onClick:s,children:[w("div",{className:F(["content-container transition-all box-border flex flex-col items-center w-full h-full px-3 py-2 rounded",n==="add"?"justify-start text-primary":"justify-end"]),children:[t(Re,{className:F("bg-white rounded mx-auto",{"text-primary":n==="add"},_`
                img {
                  max-width: 24px;
                  height: 24px;
                }
              `),variant:"rounded",src:e!=null&&e.iconUrl?e==null?void 0:e.iconUrl:ze(e==null?void 0:e.url),onClick:r||void 0,children:n==="add"&&t(lt,{})}),t("p",{className:"text-center flex justify-center mt-1 w-full text-var-main-10",children:t("a",{className:"overflow-hidden text-ellipsis",children:e==null?void 0:e.name})})]}),n==="view"&&t("span",{className:"handle-container w-6 h-6 flex justify-center absolute top-1 right-1 z-10 opacity-0 transition-all",children:t(U,{className:"rounded",size:"small","aria-controls":`site-${e==null?void 0:e.name}-menu`,"aria-haspopup":"true",onClick:x,children:t(pt,{className:"text-var-main-10"})})})]}),t(He,{id:`site-${e==null?void 0:e.name}-menu`,open:Boolean(a),anchorEl:a,onClose:y,config:[{label:"\u4FEE\u6539",onClick:v,icon:ut},{label:"\u5220\u9664",onClick:C,icon:dt}]})]})},Rt=n=>{const{enqueueSnackbar:e}=Ue(),[s,r]=f.useState(!1),[c,o]=f.useState("add"),[a,i]=f.useState({}),[x,y]=f.useState(!1),[v,C]=f.useState(""),[d,D]=f.useState([]),h=()=>{const E=et();D(E)},N=E=>{tt(E._id),window.open(je(E.url)),h()},b=()=>{o("add"),r(!0)},l=E=>{o("edit"),i(E),r(!0)},u=E=>{C(E),y(!0)},g=()=>{nt(v)?(y(!1),h(),e("\u5220\u9664\u6210\u529F",{variant:"info",action:()=>t(Z,{style:{color:"#fff"},onClick:()=>{st()&&(e("\u64A4\u9500\u6210\u529F",{variant:"success"}),h())},children:"\u64A4\u9500"})})):e("\u5220\u9664\u5931\u8D25",{variant:"warning"})},m=()=>{r(!1),h(),i({_id:"",name:"",url:"",count:0})},S=E=>{c==="add"&&(rt(E)?(e("\u6DFB\u52A0\u6210\u529F",{variant:"success"}),m()):e("\u4FDD\u5B58\u5931\u8D25",{variant:"warning"})),c==="edit"&&(at(a._id,E)?(e("\u4FEE\u6539\u6210\u529F",{variant:"success"}),m()):e("\u4FDD\u5B58\u5931\u8D25",{variant:"warning"}))};return f.useEffect(()=>{h()},[]),w(Q,{children:[w("div",{className:"flex justify-center items-end gap-2 md:h-full py-12 flex-wrap",children:[d.map(E=>t(ie,{item:E,onClick:()=>N(E),onEdit:l,onRemove:u},E._id)),t(ie,{type:"add",onAdd:b})]}),t(Ot,{open:s,type:c,value:a,onSubmit:S,onClose:m}),t(We,{title:"\u5220\u9664",type:"warning",content:"\u662F\u5426\u5220\u9664\u6B64\u7F51\u5740",open:x,onOk:g,onCancel:()=>y(!1)})]})},zt={THEME_LIGHT:"light",THEME_DARK:"dark",THEME_INVERSE:"inverse"},le=(n,e=zt.THEME_ON_BACKGROUND)=>{const s=document.getElementById("IndexPage");n&&s?s.classList.add(e):!n&&s&&s.classList.remove(e)},Ht=n=>{const{anchor:e="right",title:s,fixedTitle:r=!1,titleStyle:c,width:o="378px",children:a,...i}=n;return t(St,{className:_`
        .MuiPaper-root {
          background-color: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(8px);
        }
      `,anchor:e,...i,children:w("div",{className:F("flex flex-col h-screen",_`
            width: ${o};
          `),children:[s&&t("div",{className:F("font-semibold text-lg p-3 shadow-sm",c),children:s}),t("div",{className:F("p-3 flex-grow",r&&"overflow-y-auto"),children:a})]})})},ce=n=>{var r;const{dataSource:e}=n,s=t(Ve,{children:t("a",{className:F("p-1.5 shadow-lg rounded text-center flex items-center justify-center",_`
            --tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1),
              0 1px 2px 0 ${it((r=e.color)!=null?r:"#000",.7).rgba} !important;
            border-bottom: 1px solid ${e.color};
            &:hover {
              color: ${e.color};
            }
          `),href:e.url,target:"_blank",children:t("div",{className:"overflow-hidden whitespace-nowrap text-ellipsis",children:e.name})})});return e.intro?t(W,{title:w("div",{className:_`
            max-width: 256px;
          `,children:[t("p",{children:e.name}),t("div",{children:e.intro})]}),children:s}):s},ye=(n,e)=>({cols:s})=>{var c,o;let r=n.children&&n.children.filter(a=>{var i;return(i=n.subClassify)==null?void 0:i.map(x=>x.path).every(x=>!a.classify.includes(x))});return n.path==="new"&&(n==null?void 0:n.children)&&(console.log(n,r),((c=n==null?void 0:n.children)==null?void 0:c.length)>0&&(r=n.children)),t("div",{className:F(!e&&"shadow p-2 mb-2 rounded"),children:w("div",{children:[(o=n.subClassify)==null?void 0:o.map((a,i)=>{var x;return w("div",{children:[t("div",{className:F("font-semibold mb-3"),children:a.name}),a.children&&a.children.length>0&&t("div",{className:G("grid gap-2.5 mb-3",`grid-cols-${s}`),children:(x=a.children)==null?void 0:x.map((y,v)=>t(ce,{dataSource:y},v))}),ye(a,n)({cols:s})]},i)}),r&&r.length>0&&(n==null?void 0:n.level)===1&&w("div",{className:_`
                  margin-top: 16px;
                `,children:[n.path!=="new"&&t("div",{className:F("font-semibold mb-3"),children:"\u672A\u5206\u7C7B"}),t("div",{className:G("grid gap-2.5 mb-3",`grid-cols-${s}`),children:r.map(a=>t(ce,{dataSource:a},a.id))})]})]})},n.path+e)},Ut=n=>{const{cols:e=3}=n,s=J();return t(Ht,{ModalProps:{keepMounted:!0},fixedTitle:!0,titleStyle:_`
        padding-top: 4px !important;
        padding-bottom: 4px !important;
      `,title:w("div",{className:"flex justify-between items-center",children:[t("div",{className:"text-lg font-semibold",children:"\u5BFC\u822A"}),t(Z,{onClick:()=>{s("/navigation/*")},children:"\u66F4\u591A"})]}),...n,children:ot.map((r,c)=>w("div",{children:[t("div",{className:"text-base font-bold mb-2",children:r.name}),ye(r)({cols:e})]},c))})},Wt=n=>{const{name:e,prefix:s="icon",color:r="#333",width:c=20,height:o=20,...a}=n,i=`#${s}-${e}`;return t("svg",{...a,width:c,height:o,"aria-hidden":"true",children:t("use",{href:i,fill:r})})};var jt=function(n,e){var s=k.exports.useRef(function(){});k.exports.useEffect(function(){s.current=n}),k.exports.useEffect(function(){if(e!==null){var r=setInterval(function(){return s.current()},e||0);return function(){return clearInterval(r)}}},[e])},Vt=jt;const Kt=n=>{var l,u,g;const e=J(),{className:s}=n,[r,c]=Ke(),{weather:o,pluginKey:a,show:i}=r,{refresh:x}=c,[y,v]=k.exports.useState(!1),[C,d]=k.exports.useState(),[D,h]=k.exports.useState(!1),N=z(({className:m,...S})=>t(W,{...S,classes:{popper:m}}))({[`& .${qe.tooltip}`]:{maxWidth:"none",width:"450px",height:"150px",padding:"0"}}),b=()=>{window.WIDGET={CONFIG:{layout:"1",width:"450",height:"150",background:"1",dataColor:"FFFFFF",key:a}};const m=document.createElement("div"),S=document.createElement("div");m.id="he-plugin-standard-box",S.id="he-plugin-standard",m.style.display="none",m.appendChild(S);const E=document.getElementById("he-plugin-standard-box");E&&document.body.removeChild(E),document.body.appendChild(m);const B=document.createElement("script");B.src="https://widget.qweather.net/standard/static/js/he-standard-common.js?v=2.0",B.id="qweather-widget-script",B.onload=()=>{v(!1);const M=setInterval(()=>{const A=document.querySelector(".wv-lt-location");if(A&&A.children.length==2){const L=A.children,O=L[0];if(O.title){const T=document.createElement("div");T.innerHTML=O.title,T.style.color=O.style.color,T.style.fontSize="16px",A.removeChild(L[0]),A.removeChild(L[0]),A.appendChild(T),clearInterval(M)}}},100)};const I=document.getElementById("qweather-widget-script");I&&document.body.removeChild(I),document.body.appendChild(B)};return k.exports.useEffect(()=>{b()},[]),Vt(()=>{x()},5*60*1e3),k.exports.useEffect(()=>{if(D){b();const m=document.getElementById("he-plugin-standard-box");m&&(document.body.removeChild(m),m.style.display="block",d(m))}else d(void 0),v(!0)},[D]),!o||!i?t("div",{}):t("div",{className:"h-10 flex items-center",onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},children:t(N,{open:D,title:a?t(Ge,{loading:y,color:"#fff",full:!0,children:t("div",{dangerouslySetInnerHTML:{__html:(l=C==null?void 0:C.innerHTML)!=null?l:""}})}):w("div",{className:"flex items-center justify-center h-full flex-col",children:[t("p",{children:"\u8BF7\u5148\u914D\u7F6E pluginKey"}),w("a",{className:"cursor-pointer",onClick:()=>{e("/setting/lab/weather")},children:["\u524D\u5F80\u8BBE\u7F6E",">>"]})]}),children:w("div",{className:G(s,"flex items-center px-2 gap-2 mx-2 cursor-pointer"),children:[t(Wt,{name:((u=o.now)==null?void 0:u.icon)+"-fill"}),w("div",{className:"flex gap-1 font-semibold",children:[t("span",{children:(g=o.now)==null?void 0:g.temp}),t("span",{children:"\u2103"})]})]})})})},Qt=n=>{const e=J(),{t:s,i18n:r}=Y(),[{css:c,isImage:o,url:a}]=Qe(),[{type:i,cols:x}]=Ye(),y=f.useRef(null),[v,C]=f.useState(!1),[d,D]=f.useState({type:"clock",show:!0}),[h,N]=f.useState(!1);k.exports.useState({});const b=()=>{const u=localStorage.getItem("account");if(!u)return;const g=Je(u,"logo");D(g)},l=()=>{var m,S;const u=((S=(m=d==null?void 0:d.config)==null?void 0:m.clock)==null?void 0:S.type)||"clock1",g=ae.find(E=>E.value===u);return t("div",{className:F("delay-75 transform duration-300 max-w-full",v?"scale-50":"scale-100"),children:f.createElement(g?g.component:ae[0].component)})};return f.useEffect(()=>{b()},[]),k.exports.useEffect(()=>{o?le(!0,"inverse"):le(!1)},[o]),w("div",{id:"IndexPage",className:"index-page flex flex-col h-screen bg-cover bg-center bg-secondary",style:{backgroundImage:o?`radial-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%), radial-gradient(rgba(0, 0, 0, 0) 33%, rgba(0, 0, 0, 0.3) 166%), url('${a}')`:void 0},children:[w("div",{className:"index-navbar-box flex flex-grow max-h-12 text-right align-middle",children:[t(Kt,{className:F({"text-var-main-10":o})}),t("div",{className:"flex-1"}),t(W,{title:"\u7F51\u5740\u5BFC\u822A",children:t(U,{onClick:()=>{switch(i!=null?i:"page"){case"drawer":N(!0);break;case"page":default:e("/navigation/*");break}},children:t(ct,{className:F({"text-var-main-10":o})})})}),t(W,{title:"\u8BBE\u7F6E",children:t(U,{onClick:()=>e("/setting"),children:t(ge,{className:F({"text-var-main-10":o})})})})]}),t("div",{ref:y,className:F("index-logo-box items-center flex justify-center transition-all duration-300 max-w-full",v&&d.show?"grow-0":"flex-grow",d.show?"max-h-48 sm:max-h-72":"max-h-32"),style:{height:v&&y&&y.current?`${y.current.clientHeight*.5}px`:"100%"},children:d.show&&d.type==="clock"&&l()}),t("div",{className:"index-input-box flex-grow max-h-20 flex justify-center items-center",children:t($t,{placeholder:s("placeholder.qing-shu-ru-sou-suo-nei-rong")})}),t("div",{className:"index-content-box flex-grow",children:t(Rt,{})}),t("div",{className:"index-copyright-box flex-grow max-h-8 text-center leading-8",children:t(Ze,{})}),t(Ut,{open:h,cols:x,onClose:()=>N(!1)})]})};export{Qt as default};
//# sourceMappingURL=index.f46d0fc4.js.map
